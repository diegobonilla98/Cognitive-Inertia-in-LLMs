# Context Hacking on MATH-500: Mega Study Report

Date: 2026-02-25  
Project: `ContextMatters`  
Report source: auto-generated by `measure_study_results.py` from CSV outputs.

## Executive Summary

This study tested if fake conversation history can steer model quality on MATH-500:

1. Improve the weak model by prepending strong-model perfect examples from the same subject.
2. Degrade the strong model by prepending weak-model low-score examples from the same subject.

Headline results:

- Weak model on failure set (`n=154`): mean score `42.12 -> 46.13` (`4.01 delta`).
- Strong model on perfect set (`n=487`): mean score `100.00 -> 99.90` (`-0.10 delta`).
- Net whole-dataset impact (`n=500`):
  - Weak track: `82.17 -> 83.41` (`1.24 delta`)
  - Strong track: `99.17 -> 99.07` (`-0.10 delta`)

## Experiment Context

- Baseline file: `results_scores.csv`
- Weak-history intervention scores: `responses_from_stupid_to_smart_scores.csv`
- Strong-history intervention scores: `responses_from_smart_to_stupid_scores.csv`
- Baseline answer/scoring used:
  - Smart model: `gpt-5.2-2025-12-11`
  - Weak model: `gpt-4o-mini-2024-07-18`
  - Grader: smart model (`gpt-5.2`) with 0-100 integer rubric prompt

## Baseline Metrics

| Metric | Smart | Weak |
|---|---:|---:|
| N | 500 | 500 |
| Mean | 99.17 | 82.17 |
| Std | 7.47 | 32.77 |
| Median | 100.00 | 100.00 |
| P25 | 100.00 | 90.00 |
| P75 | 100.00 | 100.00 |
| Perfect (100) | 487 | 346 |

Baseline gap (smart minus weak):

- Mean: `17.00`
- Median: `0.00`
- Std: `32.52`

## Intervention A: Weak Model with Smart History

### Core paired effects (`n=154`)

| Metric | Value |
|---|---:|
| Mean before | 42.12 |
| Mean after | 46.13 |
| Mean delta | 4.01 |
| Median delta | 3.00 |
| Delta std | 30.79 |
| Delta 95% CI | [-0.85, 8.88] |
| Improved | 82 (53.25%) |
| Worsened | 56 (36.36%) |
| Unchanged | 16 (10.39%) |
| Sign test p (two-sided, no ties) | 0.0329 |

Threshold movement:

- `>=80`: 38 -> 49
- `>=90`: 33 -> 44
- `>=95`: 25 -> 40
- `=100`: 0 -> 27

Same-response behavior:

- Exact same response text: 0/154 (0.00%)
- Changed response text: 154/154 (100.00%)
- Mean delta when response unchanged: 0.00
- Mean delta when response changed: 4.01
- Delta correlation with starting score: -0.33

By subject:

| Subject | n | Before | After | Delta | Improve | Worsen | Same response |
|---|---|---|---|---|---|---|---|
| Algebra | 11 | 62.36 | 83.09 | 20.73 | 81.82% | 9.09% | 0.00% |
| Number Theory | 15 | 68.40 | 79.40 | 11.00 | 60.00% | 26.67% | 0.00% |
| Counting & Probability | 14 | 62.93 | 73.79 | 10.86 | 71.43% | 21.43% | 0.00% |
| Geometry | 19 | 17.89 | 21.89 | 4.00 | 47.37% | 47.37% | 0.00% |
| Precalculus | 26 | 35.69 | 38.85 | 3.15 | 42.31% | 42.31% | 0.00% |
| Intermediate Algebra | 57 | 36.81 | 35.74 | -1.07 | 45.61% | 42.11% | 0.00% |
| Prealgebra | 12 | 43.92 | 41.92 | -2.00 | 66.67% | 33.33% | 0.00% |

By level:

| Level | n | Before | After | Delta | Improve | Worsen |
|---|---|---|---|---|---|---|
| 1 | 3 | 16.67 | 28.33 | 11.67 | 33.33% | 66.67% |
| 2 | 13 | 63.54 | 73.69 | 10.15 | 69.23% | 7.69% |
| 3 | 28 | 64.04 | 61.68 | -2.36 | 60.71% | 39.29% |
| 4 | 37 | 39.22 | 46.41 | 7.19 | 51.35% | 32.43% |
| 5 | 73 | 32.41 | 35.85 | 3.44 | 49.32% | 41.10% |

By starting score band:

| Start band | n | Before | After | Delta | Improve | Worsen |
|---|---|---|---|---|---|---|
| 0-19 | 51 | 8.86 | 17.08 | 8.22 | 64.71% | 21.57% |
| 20-39 | 41 | 26.10 | 39.32 | 13.22 | 36.59% | 53.66% |
| 40-59 | 10 | 47.50 | 72.50 | 25.00 | 70.00% | 30.00% |
| 60-79 | 14 | 68.79 | 71.43 | 2.64 | 64.29% | 28.57% |
| 80-99 | 38 | 92.79 | 76.21 | -16.58 | 47.37% | 42.11% |
| 100 | 0 | NA | NA | NA | NA | NA |

Top gains:

| unique_id | Subject | Level | Before | After | Delta |
|---|---|---|---|---|---|
| 24 | Algebra | 5 | 20 | 100 | 80 |
| 176 | Number Theory | 3 | 25 | 100 | 75 |
| 445 | Intermediate Algebra | 4 | 25 | 97 | 72 |
| 298 | Precalculus | 4 | 35 | 100 | 65 |
| 437 | Algebra | 3 | 35 | 100 | 65 |
| 421 | Precalculus | 5 | 20 | 85 | 65 |
| 296 | Intermediate Algebra | 2 | 30 | 92 | 62 |
| 323 | Counting & Probability | 5 | 40 | 100 | 60 |
| 271 | Number Theory | 4 | 45 | 100 | 55 |
| 202 | Algebra | 5 | 30 | 82 | 52 |

Top drops:

| unique_id | Subject | Level | Before | After | Delta |
|---|---|---|---|---|---|
| 62 | Precalculus | 5 | 98 | 15 | -83 |
| 317 | Intermediate Algebra | 5 | 90 | 10 | -80 |
| 396 | Prealgebra | 3 | 95 | 15 | -80 |
| 361 | Intermediate Algebra | 4 | 95 | 15 | -80 |
| 223 | Number Theory | 3 | 98 | 20 | -78 |
| 490 | Intermediate Algebra | 5 | 96 | 18 | -78 |
| 119 | Prealgebra | 3 | 90 | 20 | -70 |
| 444 | Counting & Probability | 5 | 80 | 20 | -60 |
| 168 | Counting & Probability | 5 | 78 | 20 | -58 |
| 108 | Intermediate Algebra | 3 | 80 | 25 | -55 |

## Intervention B: Strong Model with Weak History

### Core paired effects (`n=487`)

| Metric | Value |
|---|---:|
| Mean before | 100.00 |
| Mean after | 99.90 |
| Mean delta | -0.10 |
| Median delta | 0.00 |
| Delta std | 1.33 |
| Delta 95% CI | [-0.22, 0.01] |
| Improved | 0 (0.00%) |
| Worsened | 5 (1.03%) |
| Unchanged | 482 (98.97%) |
| Sign test p (two-sided, no ties) | 0.0625 |

Threshold movement:

- `>=80`: 487 -> 487
- `>=90`: 487 -> 485
- `>=95`: 487 -> 484
- `=100`: 487 -> 482

Same-response behavior:

- Exact same response text: 0/487 (0.00%)
- Changed response text: 487/487 (100.00%)
- Mean delta when response unchanged: 0.00
- Mean delta when response changed: -0.10
- Delta correlation with starting score: NA

By subject:

| Subject | n | Before | After | Delta | Improve | Worsen | Same response |
|---|---|---|---|---|---|---|---|
| Algebra | 123 | 100.00 | 100.00 | 0.00 | 0.00% | 0.00% | 0.00% |
| Counting & Probability | 37 | 100.00 | 100.00 | 0.00 | 0.00% | 0.00% | 0.00% |
| Number Theory | 61 | 100.00 | 100.00 | 0.00 | 0.00% | 0.00% | 0.00% |
| Precalculus | 54 | 100.00 | 100.00 | 0.00 | 0.00% | 0.00% | 0.00% |
| Geometry | 38 | 100.00 | 99.79 | -0.21 | 0.00% | 2.63% | 0.00% |
| Prealgebra | 81 | 100.00 | 99.75 | -0.25 | 0.00% | 1.23% | 0.00% |
| Intermediate Algebra | 93 | 100.00 | 99.75 | -0.25 | 0.00% | 3.23% | 0.00% |

By level:

| Level | n | Before | After | Delta | Improve | Worsen |
|---|---|---|---|---|---|---|
| 1 | 42 | 100.00 | 99.81 | -0.19 | 0.00% | 2.38% |
| 2 | 89 | 100.00 | 99.99 | -0.01 | 0.00% | 1.12% |
| 3 | 103 | 100.00 | 99.81 | -0.19 | 0.00% | 0.97% |
| 4 | 125 | 100.00 | 99.84 | -0.16 | 0.00% | 0.80% |
| 5 | 128 | 100.00 | 99.98 | -0.02 | 0.00% | 0.78% |

By starting score band:

| Start band | n | Before | After | Delta | Improve | Worsen |
|---|---|---|---|---|---|---|
| 0-19 | 0 | NA | NA | NA | NA | NA |
| 20-39 | 0 | NA | NA | NA | NA | NA |
| 40-59 | 0 | NA | NA | NA | NA | NA |
| 60-79 | 0 | NA | NA | NA | NA | NA |
| 80-99 | 0 | NA | NA | NA | NA | NA |
| 100 | 487 | 100.00 | 99.90 | -0.10 | 0.00% | 1.03% |

Largest drops:

| unique_id | Subject | Level | Before | After | Delta |
|---|---|---|---|---|---|
| 21 | Intermediate Algebra | 3 | 100 | 80 | -20 |
| 273 | Prealgebra | 4 | 100 | 80 | -20 |
| 18 | Geometry | 1 | 100 | 92 | -8 |
| 490 | Intermediate Algebra | 5 | 100 | 98 | -2 |
| 83 | Intermediate Algebra | 2 | 100 | 99 | -1 |
| 492 | Precalculus | 3 | 100 | 100 | 0 |
| 491 | Prealgebra | 5 | 100 | 100 | 0 |
| 489 | Intermediate Algebra | 3 | 100 | 100 | 0 |
| 488 | Prealgebra | 5 | 100 | 100 | 0 |
| 487 | Number Theory | 1 | 100 | 100 | 0 |

## Same-question contrast for weak intervention set

On the exact 154 target questions used in weak intervention:

- Hacked weak mean: 46.13
- Baseline smart mean (same questions): 98.09
- Baseline weak mean (same questions): 42.12
- Hacked weak >= baseline smart: 29/154 (18.83%)
- Hacked weak > baseline weak: 82/154 (53.25%)

## Overall experiment impact

| Track | Baseline mean | Post-intervention mean | Mean delta |
|---|---:|---:|---:|
| Weak track | 82.17 | 83.41 | 1.24 |
| Strong track | 99.17 | 99.07 | -0.10 |

Large-effect counts:

- Weak gains >= 10: 52, >=20: 36, >=30: 27
- Weak drops <= -10: 31, <=-20: 16, <=-30: 15
- Strong drops <= -1: 5, <=-5: 3, <=-10: 2

## Conclusions

1. Smart-history injection improves weak model performance on average, but with high variance and meaningful downside risk.
2. Improvements are concentrated on low/mid weak-baseline items; higher weak-baseline items are vulnerable to regression.
3. Strong model behavior is highly resistant to this dumb-history corruption strategy; degradation is sparse and mostly small.
4. A practical deployment should use conditional gating before applying history injection.

## Threats to validity

1. The scorer is the same smart model family used in generation, which can induce grading bias.
2. Target sets are asymmetric (`weak <100` versus `smart =100`), so intervention comparisons are not apples-to-apples.
3. Single-run sampling per question leaves stochastic variance under-measured.
4. Near-ceiling baseline scores compress measurable degradation for the strong model.

---

Generated at: 2026-02-25 22:58:32 UTC
